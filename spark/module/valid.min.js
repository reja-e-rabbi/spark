export{Valid};class Valid{constructor(e){this.form=e}hasForm(){var e,t,s,a,l=[],r=[],i=[];switch(e=document.querySelectorAll("form"),e.length){case 0:s=!1,alert("error: No form have in this page");break;default:for(var n=0;n<e.length;n++)l.push(document.querySelectorAll("form")[n].getAttribute("name"));if(a=l.includes(this.form.name),1==a){for(n=0;n<l.length;n++)l[n]==this.form.name&&r.push(1);if(r.length>1)alert('error: morethen one " form " was including same name'),s=!1;else{t=e[l.indexOf(this.form.name)];var c=t.querySelectorAll("input");for(n=0;n<c.length;n++)i.push(c[n].getAttribute("name"));0==i.filter((e,t,s)=>s.indexOf(e)!==t).length?s=!0:(s=!1,alert('error: one more " inpute " attributes name is same'))}}else s=!1}var u={valid:s,form_no:l.indexOf(this.form.name)};return u}check(){var e,t,s,a,l=[],r=[];if(t=this.hasForm(),e=document.querySelectorAll("form")[t.form_no],e.getAttribute("method"),e.getAttribute("action"),s=e.querySelectorAll("input"),a=e.querySelectorAll("select"),1==t.valid){if(s.length>0)if(s.length!=this.form.input.length)alert("total input == total input object class not metching");else for(var i=0;i<s.length;i++){var n=s[i].value,c=s[i].getAttribute("type"),u=s[i].getAttribute("name"),h=s[i].getAttribute("minlength"),o=s[i].getAttribute("maxlength"),m=s[i].getAttribute("required"),d=this.form.input[i];null!=m?m.toLowerCase():console.log("required"),null==d.class||null==d.class?alert(c+u+"error class not define"):console.log("class active");var f={required:{name:u,type:c,requir:m,class:d.class,maxlength:o,minlength:h,text_length:n.length,text_value:n}};switch(r.push(f.required),c){case"text":case"email":case"password":case"date":case"select":case"checkbox":case"search":case"button":g=this.required(f.required);l.push(g);break;case"color":case"date":case"datetime-local":case"file":case"hidden":case"image":case"month":case"number":case"radio":case"range":case"reset":case"reset":case"tel":case"time":case"url":case"week":g=!0;l.push(g);break;case"submit":var g=this.required(f.required);l.push(g),console.log("that is submit");break;default:console.log("i have see a error")}}if(a.length>0)if(a.length!=this.form.select.length)alert("totla select == total select boject class not matching");else for(i=0;i<a.length;i++){a[i].value;var p=a[i].getAttribute("required"),v=a[i].getAttribute("name"),_=this.form.select[i];null==p||null==p||p.toLowerCase(),null==_.class||null==_.class?alert("select object class not define"):console.log("select success");var b={required:v,type:"select",class:_.class,max_length:v.length,min_length:v.length,text_length:v.length,text_value:v};r.push(b.required);var q=this.required(f.required);l.push(q)}if(!0!==l.includes(!1))switch(document.querySelector("."+this.form.class).innerHTML=null,this.form.request[0].toLowerCase()){case"html":return s=document.createElement("input"),s.setAttribute("type","submit"),document.querySelector("."+this.form.class).appendChild(s),s.click(),document.querySelector("."+this.form.class).removeChild(s),0;case"ajax":return console.log("ajax request success"),t.input=r,t;default:return alert("error: object parts object.request[0] not define that is html, ajax etc"),0}else document.querySelector("."+this.form.class).innerHTML=this.letter().perfect}else alert("this form is not valied")}required(e){var t=/%s/g;switch(e.requir){case"required":if(0==e.text_length)return this.message(e,this.letter().required),!1;if(e.text_length<e.minlength){var s=this.letter().min_length.replace(t,e.minlength);return this.message(e,s),!1}if(e.text_length>e.maxlength){s=this.letter().min_length.replace(t,e.maxlength);return this.message(e,s),!1}if(e.minlength<e.text_length<e.maxlength)return this.message(e,""),!0;break;case null:return this.message(e),!0;default:return alert("Attributes ' required=\"required\" ' select perfectely or not define"),this.message(e),!1}}Regex(){}message(e,t=null){document.querySelector("."+e.class).innerHTML=t}letter(){var e={perfect:"Not perfect, check value",required:"The field is required.",matches:"The  field does not match the %s field.",default:"The field is still set to default, please change.",valid_email:"The field must contain a valid email address.",valid_emails:"The  field must contain all valid email addresses.",min_length:"The field must be at least %s characters in length.",max_length:"The  field must not exceed %s characters in length.",exact_length:"The field must be exactly %s characters in length.",greater_than:"The %s field must contain a number greater than %s.",less_than:"The %s field must contain a number less than %s.",alpha:"The %s field must only contain alphabetical characters.",alpha_numeric:"The %s field must only contain alpha-numeric characters.",alpha_dash:"The %s field must only contain alpha-numeric characters, underscores, and dashes.",numeric:"The %s field must contain only numbers.",integer:"The %s field must contain an integer.",decimal:"The %s field must contain a decimal number.",is_natural:"The %s field must contain only positive numbers.",is_natural_no_zero:"The %s field must contain a number greater than zero.",valid_ip:"The %s field must contain a valid IP.",valid_base64:"The %s field must contain a base64 string.",valid_credit_card:"The %s field must contain a valid credit card number.",is_file_type:"The %s field must contain only %s files.",valid_url:"The %s field must contain a valid URL.",greater_than_date:"The %s field must contain a more recent date than %s.",less_than_date:"The %s field must contain an older date than %s.",greater_than_or_equal_date:"The %s field must contain a date that's at least as recent as %s.",less_than_or_equal_date:"The %s field must contain a date that's %s or older."};return e}Reset(e){document.querySelector(e).reset()}hasFile(){var e,t,s,a,l,r={},i=[],n=[],c=[],u=this.form;if(e=this.hasForm(),1==e.valid){if(t=document.querySelectorAll("form")[e.form_no],s=t.querySelectorAll("input"),u.input.length==s.length){for(let e=0;e<s.length;e++)a=s[e].getAttribute("type"),"file"==a?i.push(1):i.push(0),l=u.input[e].file,null==l?n.push(0):n.push(1),1==n[e]&&1==i[e]&&(c.push(e),r.inputTypeFile=c);return c.length>0?(e.settings=r,e.message="success",e):(e.valid=!1,e.message="input File and Object is not detected",e)}return e.message="form input length != form input object length",e.valid=!1,e}return e.message="form not detected",e.valid=!1,e}hascheck(){var e,t,s,a,l,r;if(e=this.form,r=this.hasFile(),1==r.valid){if(t=document.querySelectorAll("form")[r.form_no],s=r.settings,a=s.inputTypeFile,a.length>0)for(let s=0;s<a.length;s++){var i=a[s];if(l=e.input[i].file,t[i],!(l.length>0))return r.valid=!1,r.message="object ->input-> file length 0",r;for(let e=0;e<l.length;e++)switch(l[e].type){case"image":var n=[];return n.push(i),r.settings.imgResize=n,r;default:return r.valid=!1,r.message="object ->input-> file length 0",r}}}else window.alert(r.message)}}